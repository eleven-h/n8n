# 🔎 从原始需求找到适合自己的节点（开始前的准备工作）
>在你开始动手选择节点之前，首先要明确你的需求，想清楚你需要的是一个什么样的节点，这似乎是一句废话，但是很多人并不能做到这一点。
在动手搭建 n8n 工作流之前，最重要的不是“去找节点”，而是先把“需求拆清楚”。当你清楚自己需要调用哪些外部服务、在哪些环节需要触发与处理，就能更快在节点面板里锁定目标。

---

## 1. 先从“原始需求”倒推出所需节点

以“把稍后阅读的文章存到 Notion，并由大模型自动分类”为例，需要的能力通常包括：
- 阅读器：来源端（如 Omnivore、RSS、Pocket 等）
- 接收入口：当阅读器不支持直连 Notion 时，选一个“接收链接”的服务（如 Telegram 机器人、微信服务号等）
- 正文抽取：把网页 URL 转换为“文章正文”的服务
- Notion：存储文章与分类结果
- 大模型：做摘要与分类（可用 n8n AI 节点或外部 API）

动手前先做两件事：
- 列出每一步可能用到的“具体服务名称/工具关键词”
- 在 n8n 节点面板搜索这些关键词；若无现成节点，则考虑“半开放式节点”

> 参考：复杂抽取/改写可看《🆓 半开放式节点（Code/HTTP Request）详细介绍》。

---

## 2. 理解“触发节点 vs 执行节点”

- 触发节点（Triggers）：可以作为工作流的“起点”。如“定时”、“收到一条消息”、“点击 Test Workflow 按钮”等。
- 执行节点（Actions）：不能做第一个节点，必须被触发后执行。复杂的处理逻辑通常由执行节点完成。

以 Gmail 为例：
- 触发节点：On Message Received（每隔一段时间检查是否有新邮件，有则触发流程）
- 执行节点：读取邮件、标记已读/未读、添加/移除标签、删除、发送邮件等

> 为什么“读取邮件”是执行节点？
> “收到新邮件”只是通知（Trigger），真正“读取内容/处理内容”发生在后续（Action）。

---

## 3. 用“菜单分类逻辑”快速定位节点

n8n 节点有两个重要维度：是否依赖外部服务、扮演触发还是执行角色。

- 外部节点（依赖外部服务 API）
  - 触发：如 Gmail 收到新邮件
  - 执行：如 通过 Gmail 发送邮件
- 自有节点（不依赖外部，或基于标准协议如 HTTP/HTML/OS）
  - 触发：点击“Test Workflow”、Webhook（HTTP 入站）等
  - 执行：逻辑类（条件/循环/合并/数据处理）、代码节点
- 人工智能节点：为 AI 设计的复合型节点（如 LLM Chain、Agent、Chat Trigger）

结合面板可大致解读：
- Action in an app：外部服务封装（如 Google Sheets、Gmail）【外部节点】
  - 每个服务下再分 Trigger 与 Action
- 数据处理：过滤与转换【自有/执行】
- Flow：条件、循环、合并等逻辑【自有/执行】
- Core：代码、HTTP 等【自有/执行】
- 添加另一个触发器：新增一个 Trigger 入口

---

## 4. 理解“外部服务节点”的本质

外部服务节点 = 对目标服务官方 API 的“可视化封装”。

- n8n 能力通常是该服务 API 能力的“子集/映射”
- 复杂 API 可能被拆为多个更直观的节点
- 好处：
  - 抽象易懂：把原本抽象的 API 设计转为直观动作
  - 低代码：无需手写大量 HTTP/鉴权即可调用官方 API

例：Gmail 的“Mark a message as read”
- 官方 API 本质是操作系统标签（Label）
- 你也可用“Add/Remove label”实现，但封装节点更直观

---

## 5. 找不到节点时的出路：半开放式节点

当搜索不到现成节点时：
- 用 Code 节点（JS/Python）完成数据改写、拼装、轻逻辑
- 用 HTTP Request 节点直连任意 API（含鉴权、Body/Headers、重试/批次等）

> 详见《🆓 半开放式节点（Code/HTTP Request）详细介绍》。

---

## 6. 注册你的社区版用来获得更多的功能

n8n 的自部署社区版（又或称开源版）完成部署后，你能见到的功能都是免费的。但有一些功能，需要注册后才能启用，包括：
- 文件夹功能 - 允许你创建文件夹来整理你的 Workflow。
- 在编辑器中调试 - 将一条执行记录从 Executions 复制到编辑器进行调试。
- 24 小时修订历史 - 允许你回滚到一条 Workflow 在过去 24 小时中的任何一次修改。
- 自定义执行程序 - 保存、查找和注释执行元数据。

注册步骤：
1. 新部署：初始化完成后出现注册界面，输入有效邮箱即可激活
2. 已部署：
   - 左下角“···” → Settings → Usage and Plan
   - 点击 “Unlock” → 输入邮箱 → “Send me a free license key”
   - 前往邮箱查收 Key
   - 回到 Settings → Usage and Plan → “Enter activation key” 完成激活

---

## 7. 开始前检查清单（Checklist）

- 需求是否拆清楚：来源、转换、存储、AI、通知各组件？
- 触发方式确定了吗：定时/消息/按钮/Webhook？
- 搜到合适的外部节点了吗：服务名/关键词试过多种？
- 无现成节点的环节：是否由 Code/HTTP Request 替代？
- 是否已注册开源版：便于调试、回滚和管理？

> 牢记：先清需求，再分类找节点；节点不够用，就用“半开放式”补齐能力。祝你构建顺畅！
